<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/public/styles/all.css">
  <link rel="stylesheet" href="/public/styles/article.css">
</head>

<body>
  <main>

    <%- include("./partials/blog-heading.ejs") %>

      <a href="/author/home">
        dashboard
      </a>

      <p><strong>Microblogger</strong> Reader Article</p>
      <hr>

      <div>
        <article>
          <div class="article-title">
            <strong>
              <%= title %>
            </strong>
          </div>
          <div class="article-subtitle">
            <%= subtitle %>
          </div>
          <p class="article-content">
            <%= content %>
          </p>
        </article>
        <div></div>
      </div>

      <hr>

      <div>
        <button onclick="updateLikes(event, <%= id %>)"> Like </button>     <span id="likes"> Likes <%= likes %> </span>
      </div>
      <br>

      <form id="comment-adder" action="" onsubmit="onSubmit(event, <%= id %>)">
        <label for="content">Comment:</label>
        <textarea id="comment-text" name="content" required></textarea><br><br>

        <button type="submit">add comment</button>
      </form>

      <div id="comments-container">

        <% if (comments.length> 0) { %>
          <% comments.forEach(function(comment) { %>
            <div class="comment" %>">
              <p class="comment-text">
                <%= comment.content%>
              </p>
              <p class="comment-date">
                Username: <%= comment.username%>
              </p>
              <p class="comment-date">
                Posted: <%= comment.posted_date %>
              </p>
            </div>
            <% }); %>
              <% } %>
      </div>

      <script src="/public/js/article.js">
      </script>
      <script src="/public/js/logout.js">
      </script>
  </main </body>

</html>
